#!/bin/bash

# ctrl+c
function ctrl_C(){
  echo -ne '\n[!] User abort.'
  tput cnorm; exit 1
}

trap ctrl_C INT

tput civis

old_process="$(ps -eo command)"

while true; do
  curr_process="$(ps -eo command)"
  diff <(echo "$old_process") <(echo "$curr_process") | grep "[\>\<]" | grep -vE "command|process_monitoring|kworker"
  old_process=$curr_process
done
