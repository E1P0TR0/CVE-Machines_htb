var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};

const cookieSession = __importDefault(require('cookie-session'));
const express = __importDefault(require('express'));
const app = (0, express.default)();

app.use((0, cookieSession.default)({
  name: 'download_session',
  keys: ["8929874489719802418902487651347865819634518936754"],
}))

app.use(express.default.urlencoded({ extended: false }));

app.get('/:char', function (req, res) {
  req.session.flashes = {info: [], error: [], success: []}
  req.session.user = {
        username: "WESLEY",
        password: { startsWith: req.params.char}
  };
  res.cookie('download_session', req.session).send();
});

app.listen(3000, () => {
  console.log("[+] Listening on port 3000")
});